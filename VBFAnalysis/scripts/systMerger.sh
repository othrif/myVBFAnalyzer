#!/bin/bash                                                                                                                                                                                                       
mkdir mergedSyst


v13Syst=( "Nominal" "EG_RESOLUTION_ALL__1down" "EG_RESOLUTION_ALL__1up" "EG_SCALE_AF2__1down" "EG_SCALE_AF2__1up" "EG_SCALE_ALL__1down" "EG_SCALE_ALL__1up" "EL_EFF_ChargeIDSel_TOTAL_1NPCOR_PLUS_UNCOR__1down" "EL_EFF_ChargeIDSel_TOTAL_1NPCOR_PLUS_UNCOR__1up" "EL_EFF_ID_TOTAL_1NPCOR_PLUS_UNCOR__1down" "EL_EFF_ID_TOTAL_1NPCOR_PLUS_UNCOR__1up" "EL_EFF_Iso_TOTAL_1NPCOR_PLUS_UNCOR__1down" "EL_EFF_Iso_TOTAL_1NPCOR_PLUS_UNCOR__1up" "EL_EFF_Reco_TOTAL_1NPCOR_PLUS_UNCOR__1down" "EL_EFF_Reco_TOTAL_1NPCOR_PLUS_UNCOR__1up" "EL_EFF_Trigger_TOTAL_1NPCOR_PLUS_UNCOR__1down" "EL_EFF_Trigger_TOTAL_1NPCOR_PLUS_UNCOR__1up" "EL_EFF_TriggerEff_TOTAL_1NPCOR_PLUS_UNCOR__1down" "EL_EFF_TriggerEff_TOTAL_1NPCOR_PLUS_UNCOR__1up" "FT_EFF_B_systematics__1down" "FT_EFF_B_systematics__1up" "FT_EFF_C_systematics__1down" "FT_EFF_C_systematics__1up" "FT_EFF_extrapolation__1down" "FT_EFF_extrapolation__1up" "FT_EFF_extrapolation_from_charm__1down" "FT_EFF_extrapolation_from_charm__1up" "FT_EFF_Light_systematics__1down" "FT_EFF_Light_systematics__1up" "JET_Comb_Baseline_Kin__1down" "JET_Comb_Baseline_Kin__1up" "JET_Comb_Modelling_Kin__1down" "JET_Comb_Modelling_Kin__1up" "JET_Comb_TotalStat_Kin__1down" "JET_Comb_TotalStat_Kin__1up" "JET_Comb_Tracking_Kin__1down" "JET_Comb_Tracking_Kin__1up" "JET_EtaIntercalibration_NonClosure__1down" "JET_EtaIntercalibration_NonClosure__1up" "JET_fJvtEfficiency__1down" "JET_fJvtEfficiency__1up" "JET_GroupedNP_1__1down" "JET_GroupedNP_1__1up" "JET_GroupedNP_2__1down" "JET_GroupedNP_2__1up" "JET_GroupedNP_3__1down" "JET_GroupedNP_3__1up" "JET_JvtEfficiency__1down" "JET_JvtEfficiency__1up" "JET_MassRes_Hbb__1down" "JET_MassRes_Hbb__1up" "JET_MassRes_Top__1down" "JET_MassRes_Top__1up" "JET_MassRes_WZ__1down" "JET_MassRes_WZ__1up" "JET_Rtrk_Baseline_Sub__1down" "JET_Rtrk_Baseline_Sub__1up" "JET_Rtrk_Modelling_Sub__1down" "JET_Rtrk_Modelling_Sub__1up" "JET_Rtrk_TotalStat_Sub__1down" "JET_Rtrk_TotalStat_Sub__1up" "JET_Rtrk_Tracking_Sub__1down" "JET_Rtrk_Tracking_Sub__1up" "MET_SoftTrk_ResoPara" "MET_SoftTrk_ResoPerp" "MET_SoftTrk_ScaleDown" "MET_SoftTrk_ScaleUp" "MUON_EFF_BADMUON_STAT__1down" "MUON_EFF_BADMUON_STAT__1up" "MUON_EFF_BADMUON_SYS__1down" "MUON_EFF_BADMUON_SYS__1up" "MUON_EFF_ISO_STAT__1down" "MUON_EFF_ISO_STAT__1up" "MUON_EFF_ISO_SYS__1down" "MUON_EFF_ISO_SYS__1up" "MUON_EFF_RECO_STAT__1down" "MUON_EFF_RECO_STAT__1up" "MUON_EFF_RECO_STAT_LOWPT__1down" "MUON_EFF_RECO_STAT_LOWPT__1up" "MUON_EFF_RECO_SYS__1down" "MUON_EFF_RECO_SYS__1up" "MUON_EFF_RECO_SYS_LOWPT__1down" "MUON_EFF_RECO_SYS_LOWPT__1up" "MUON_EFF_TrigStatUncertainty__1down" "MUON_EFF_TrigStatUncertainty__1up" "MUON_EFF_TrigSystUncertainty__1down" "MUON_EFF_TrigSystUncertainty__1up" "MUON_EFF_TTVA_STAT__1down" "MUON_EFF_TTVA_STAT__1up" "MUON_EFF_TTVA_SYS__1down" "MUON_EFF_TTVA_SYS__1up" "MUON_ID__1down" "MUON_ID__1up" "MUON_MS__1down" "MUON_MS__1up" "MUON_SAGITTA_RESBIAS__1down" "MUON_SAGITTA_RESBIAS__1up" "MUON_SAGITTA_RHO__1down" "MUON_SAGITTA_RHO__1up" "MUON_SCALE__1down" "MUON_SCALE__1up" "PH_EFF_ID_Uncertainty__1down" "PH_EFF_ID_Uncertainty__1up" "PH_EFF_ISO_Uncertainty__1down" "PH_EFF_ISO_Uncertainty__1up" "PH_EFF_TRIGGER_Uncertainty__1down" "PH_EFF_TRIGGER_Uncertainty__1up" "PRW_DATASF__1down" "PRW_DATASF__1up" "TAUS_TRUEELECTRON_EFF_ELEOLR_TOTAL__1down" "TAUS_TRUEELECTRON_EFF_ELEOLR_TOTAL__1up" "TAUS_TRUEHADTAU_EFF_ELEOLR_TOTAL__1down" "TAUS_TRUEHADTAU_EFF_ELEOLR_TOTAL__1up" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORR2025__1down" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORR2025__1up" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORR2530__1down" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORR2530__1up" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORR3040__1down" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORR3040__1up" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORRGE40__1down" "TAUS_TRUEHADTAU_EFF_JETID_1PRONGSTATSYSTUNCORRGE40__1up" "TAUS_TRUEHADTAU_EFF_JETID_3PRONGSTATSYSTUNCORR2030__1down" "TAUS_TRUEHADTAU_EFF_JETID_3PRONGSTATSYSTUNCORR2030__1up" "TAUS_TRUEHADTAU_EFF_JETID_3PRONGSTATSYSTUNCORRGE30__1down" "TAUS_TRUEHADTAU_EFF_JETID_3PRONGSTATSYSTUNCORRGE30__1up" "TAUS_TRUEHADTAU_EFF_JETID_HIGHPT__1down" "TAUS_TRUEHADTAU_EFF_JETID_HIGHPT__1up" "TAUS_TRUEHADTAU_EFF_JETID_SYST__1down" "TAUS_TRUEHADTAU_EFF_JETID_SYST__1up" "TAUS_TRUEHADTAU_EFF_RECO_HIGHPT__1down" "TAUS_TRUEHADTAU_EFF_RECO_HIGHPT__1up" "TAUS_TRUEHADTAU_EFF_RECO_TOTAL__1down" "TAUS_TRUEHADTAU_EFF_RECO_TOTAL__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATDATA2015__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATDATA2015__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATDATA2016__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATDATA2016__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATDATA2017__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATDATA2017__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATMC2015__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATMC2015__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATMC2016__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATMC2016__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATMC2017__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_STATMC2017__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_SYST2015__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_SYST2015__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_SYST2016__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_SYST2016__1up" "TAUS_TRUEHADTAU_EFF_TRIGGER_SYST2017__1down" "TAUS_TRUEHADTAU_EFF_TRIGGER_SYST2017__1up" "TAUS_TRUEHADTAU_SME_TES_DETECTOR__1down" "TAUS_TRUEHADTAU_SME_TES_DETECTOR__1up" "TAUS_TRUEHADTAU_SME_TES_INSITU__1down" "TAUS_TRUEHADTAU_SME_TES_INSITU__1up" "TAUS_TRUEHADTAU_SME_TES_MODEL__1down" "TAUS_TRUEHADTAU_SME_TES_MODEL__1up" )


for s in ${v13Syst[@]}
do
    #hadd mergedSyst/data.root data*root
    if [ $(ls data${s}*root | wc -l) == 0 ] ;then echo "WARNING: (data${s}*root) No Files found" ;else hadd mergedSyst/data${s}.root data${s}*root; fi
    #hadd mergedSyst/VV.root VV*root
    if [ $(ls VV${s}*root | wc -l) == 0 ] ;then echo "WARNING: (VV${s}*root) No Files found" ;else hadd mergedSyst/VV${s}.root VV${s}*root; fi
    #hadd mergedSyst/VVV.root VVV*root
    if [ $(ls VVV${s}*root | wc -l) == 0 ] ;then echo "WARNING: (VVV${s}*root) No Files found" ;else hadd mergedSyst/VVV${s}.root VVV${s}*root; fi
    #hadd mergedSyst/W_strong.root W_strong*root
    if [ $(ls W_strong${s}*root | wc -l) == 0 ] ;then echo "WARNING: (W_strong${s}*root) No Files found" ;else hadd mergedSyst/W_strong${s}.root W_strong${s}*root; fi
   #hadd mergedSyst/Z_strong.root Z_strong*root
    if [ $(ls Z_strong${s}*root | wc -l) == 0 ] ;then echo "WARNING: (Z_strong${s}*root) No Files found" ;else hadd mergedSyst/Z_strong${s}.root Z_strong${s}*root; fi
    #hadd mergedSyst/Z_strong_VBFFilt.root Z_strong_VBFFilt*root
    if [ $(ls Z_strong_VBFFilt${s}*root | wc -l) == 0 ] ;then echo "WARNING: (Z_strong_VBFFilt${s}*root) No Files found" ;else hadd mergedSyst/Z_strong_VBFFilt${s}.root Z_strong_VBFFilt${s}*root; fi
    #hadd mergedSyst/Z_strong_LowMass.root Z_strong_LowMass*root
    if [ $(ls Z_strong_LowMass${s}*root | wc -l) == 0 ] ;then echo "WARNING: (Z_strong_LowMass${s}*root) No Files found" ;else hadd mergedSyst/Z_strong_LowMass${s}.root Z_strong_LowMass${s}*root; fi
    #hadd mergedSyst/W_EWK.root W_EWK.root
    if [ $(ls  W_EWK${s}*.root | wc -l) == 0 ] ;then echo "WARNING: (W_EWK${s}*.root) No Files found" ;else hadd mergedSyst/W_EWK${s}.root W_EWK${s}*.root; fi
    #hadd mergedSyst/Z_EWK.root Z_EWK*root
    if [ $(ls Z_EWK${s}*root | wc -l) == 0 ] ;then echo "WARNING: (Z_EWK${s}*root) No Files found" ;else hadd mergedSyst/Z_EWK${s}.root Z_EWK${s}*root; fi
    #hadd mergedSyst/ttbar.root ttbar*root
    if [ $(ls ttbar${s}*root | wc -l) == 0 ] ;then echo "WARNING: (ttbar${s}*root) No Files found" ;else hadd mergedSyst/ttbar${s}.root ttbar${s}*root; fi
    #hadd mergedSyst/QCDw.root QCDw*root
    if [ $(ls QCDw${s}*root | wc -l) == 0 ] ;then echo "WARNING: (QCDw${s}*root) No Files found" ;else hadd mergedSyst/QCDw${s}.root QCDw${s}*root; fi
    #hadd mergedSyst/QCDunw.root QCDunw*root
    if [ $(ls QCDunw${s}*root | wc -l) == 0 ] ;then echo "WARNING: (QCDunw${s}*root) No Files found" ;else hadd mergedSyst/QCDunw${s}.root QCDunw${s}*root; fi
    #hadd mergedSyst/VBFH125.root VBFH125*.root
    if [ $(ls VBFH125${s}*.root | wc -l) == 0 ] ;then echo "WARNING: (VBFH125${s}*.root) No Files found" ;else hadd mergedSyst/VBFH125${s}.root VBFH125${s}*.root; fi
    #hadd mergedSyst/ggFH125.root ggFH125*.root
    if [ $(ls ggFH125${s}*.root | wc -l) == 0 ] ;then echo "WARNING: (ggFH125${s}*.root) No Files found" ;else hadd mergedSyst/ggFH125${s}.root ggFH125${s}*.root; fi
    #hadd mergedSyst/VH125.root VH125*.root
    if [ $(ls VH125${s}*.root | wc -l) == 0 ] ;then echo "WARNING: (VH125${s}*.root) No Files found" ;else hadd mergedSyst/VH125${s}.root VH125${s}*.root; fi
    #haddmergedSyst/ signal.root *H125*root
    #haddmerged/ VV_VVV.root VV*root
done
